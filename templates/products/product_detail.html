{% extends 'base.html' %}

{% block title %}{{ product.name }} - ProductStore{% endblock %}

{% block content %}
<div class="grid grid-cols-1 lg:grid-cols-2 gap-8 bg-white/10 backdrop-blur-md rounded-2xl p-8 shadow-xl">
    <!-- Product Image Section -->
    <div class="relative group">
        {% if product.image %}
            <img src="{{ product.image.url }}" 
                 alt="{{ product.name }}" 
                 class="w-full h-[500px] object-cover rounded-xl shadow-2xl transition-transform duration-500 group-hover:scale-[1.02]">
        {% else %}
            <div class="w-full h-[500px] bg-gradient-to-br from-indigo-900 to-purple-900 rounded-xl shadow-2xl flex items-center justify-center text-8xl transition-transform duration-500 group-hover:scale-[1.02]">
                üì¶
            </div>
        {% endif %}
        
        <!-- Category Badge -->
        {% if product.category %}
            <a href="{% url 'categories:category_detail' product.category.pk %}" 
               class="absolute top-4 left-4 px-4 py-2 bg-indigo-600/90 backdrop-blur-md text-white rounded-full hover:bg-indigo-700/90 transition duration-300">
                üìë {{ product.category.name }}
            </a>
        {% else %}
            <div class="absolute top-4 left-4 px-4 py-2 bg-gray-600/90 backdrop-blur-md text-white rounded-full">
                üìë Uncategorized
            </div>
        {% endif %}

        <!-- Price Badge -->
        <div class="absolute top-4 right-4 px-6 py-3 bg-black/90 backdrop-blur-md text-2xl font-bold text-white rounded-full">
            ${{ product.price }}
        </div>
        </div>

        <!-- Product Details Section -->
        <div class="space-y-6">
            <!-- Title -->
            <div>
                <h1 class="text-4xl font-bold text-white mb-2">{{ product.name }}</h1>
                <p class="text-gray-400 font-mono">Product Code: {{ product.code }}</p>
            </div>

            <!-- Stock Status -->
            <div>
                <h3 class="text-lg font-semibold text-white mb-2 flex items-center gap-2">
                    <span>üì¶</span> Stock Status
                </h3>
                {% if product.instock == 0 %}
                    <div class="px-4 py-2 bg-red-500/20 text-red-300 rounded-lg inline-flex items-center gap-2">
                        <span>‚ùå</span> Out of Stock
                    </div>
                {% elif product.instock < 10 %}
                    <div class="px-4 py-2 bg-yellow-500/20 text-yellow-300 rounded-lg inline-flex items-center gap-2">
                        <span>‚ö†Ô∏è</span> Only {{ product.instock }} left
                    </div>
                {% else %}
                    <div class="px-4 py-2 bg-green-500/20 text-green-300 rounded-lg inline-flex items-center gap-2">
                        <span>‚úÖ</span> In Stock: {{ product.instock }} items
                    </div>
                {% endif %}
            </div>

            <!-- Description -->
            <div>
                <h3 class="text-lg font-semibold text-white mb-2 flex items-center gap-2">
                    <span>üìù</span> Description
                </h3>
                <div class="bg-black/20 rounded-lg p-4 text-gray-300">
                    {% if product.description %}
                        {{ product.description|linebreaks }}
                    {% else %}
                        <em class="text-gray-400">No description available for this product.</em>
                    {% endif %}
                </div>
            </div>

            <!-- Product Information -->
            <div>
                <h3 class="text-lg font-semibold text-white mb-2 flex items-center gap-2">
                    <span>üìÖ</span> Product Information
                </h3>
                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-black/20 rounded-lg p-4 text-center">
                        <div class="text-gray-400 mb-1">Created</div>
                        <div class="text-white">{{ product.created_at|date:"M d, Y" }}</div>
                    </div>
                    <div class="bg-black/20 rounded-lg p-4 text-center">
                        <div class="text-gray-400 mb-1">Last Updated</div>
                        <div class="text-white">{{ product.updated_at|date:"M d, Y" }}</div>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="flex flex-wrap gap-4 pt-4 border-t border-white/10">
                <a href="{% url 'products:product_list' %}" 
                   class="flex-1 inline-flex items-center justify-center gap-2 px-4 py-2 bg-gray-500/20 hover:bg-gray-500/30 text-gray-300 rounded-lg transition duration-300">
                    <span>‚Üê</span> Back to Products
                </a>
                <a href="{% url 'products:product_update' product.pk %}" 
                   class="flex-1 inline-flex items-center justify-center gap-2 px-4 py-2 bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-300 rounded-lg transition duration-300">
                    <span>‚úèÔ∏è</span> Edit Product
                </a>
                <a href="{% url 'products:product_delete' product.pk %}" 
                   class="flex-1 inline-flex items-center justify-center gap-2 px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-300 rounded-lg transition duration-300">
                    <span>üóëÔ∏è</span> Delete Product
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}